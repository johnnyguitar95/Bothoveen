(function(b){b.widget("ui.epeditor",{options:{toolbarOptions:null,height:null},_create:function(){ep.debug("initializing ckeditor");var e=[];if(this.options.toolbarOptions!==null){e=this.options.toolbarOptions}else{e=[["Bold","Italic","Underline","-","Undo","Redo"]]}if("rtl"===b("html").attr("dir")){e[0].push("-");e[0].push("BidiLtr");e[0].push("BidiRtl")}var f=(b("html").attr("lang"))?b("html").attr("lang"):null;var a={toolbar:e,skin:"epskin"};if(this.options.height!==null){a.height=this.options.height}CKEDITOR.on("instanceReady",function(c){b("iframe.cke_wysiwyg_frame",c.editor.container.$).contents().on("click",function(){c.editor.focus()})});this.element.ckeditor(b.noop,a)},_init:function(){this.editorInterval=setInterval(function(){b(window).trigger("editorIntervalCheck")},500);this.element.ckeditor(function(){this.focus()})},destroy:function(){clearInterval(this.editorInterval);var a=this;a.element.ckeditor(function(){this.destroy()});b.Widget.prototype.destroy.call(a)}})})(jQuery);